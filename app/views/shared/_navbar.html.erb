<div class="navbar navbar-expand-sm navbar-light navbar-lewagon border-bottom">
  <%= link_to 'COMPETE', root_path %>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <% if !(user_signed_in? || federation_signed_in?) %>
        <li class="nav-item mx-3">
          <%= link_to "Federations", federations_path, class: "nav-link" %>
        </li>
        <li class="nav-item mx-3">
          <%= link_to "For Federations", new_federation_session_path, class: "nav-link" %>
        </li>
        <li class="nav-item mx-3">
          <%= link_to 'Log in', new_user_session_path, class: "nav-link" %>
        </li>
        <li class="nav-item mx-3">
          <%= link_to 'Sign up', new_user_registration_path, class: "btn btn-primary" %>
        </li>
      <% else %>
        <% if current_user %>
          <li class="nav-item mx-3">
            <%= link_to "My Competitions", competitions_path, class: "nav-link" %>
          </li>
          <li class="nav-item">
            <div class="dropdown">
              <div class="avatar d-flex align-items-center justify-content-center" id="dropdownMenu" data-toggle="dropdown" aria-haspopup=true aria-expanded=false style='color: white; background-color: rgb(50,50,50);' id="navbarDropdown" data-toggle="dropdown" aria-haspopup='true' aria-expanded='false'>
                <%= current_user.first_name[0] + current_user.last_name[0] %>
              </div>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu">
                <%= link_to "Edit profile", edit_user_registration_path, class: "dropdown-item" %>
                <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "dropdown-item"  %>
              </div>
            </div>
          </li>
        <% else%>
          <li class="nav-item mx-3">
            <%= link_to 'Dashboard', federation_competitions_path, class: "nav-link"%>
          </li>
          <li class="nav-item">
            <div class="dropdown">
              <div class="avatar d-flex align-items-center justify-content-center" id="dropdownMenu" data-toggle="dropdown" aria-haspopup=true aria-expanded=false style='color: white; background-color: rgb(50,50,50);' id="navbarDropdown" data-toggle="dropdown" aria-haspopup='true' aria-expanded='false'>
                <%= current_federation.name[0] %>
              </div>

              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu">
                <%= link_to "Edit profile", edit_federation_registration_path, class: "dropdown-item" %>
                <%= link_to "Logout", destroy_federation_session_path, method: :delete, class: "dropdown-item"  %>
              </div>
            </div>
          </li>
        <% end %>
      <% end %>
    </ul>
  </div>
</div>
